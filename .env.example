# BrightDayBot Environment Configuration
# Copy this file to .env and replace the placeholder values with your actual tokens and settings
# Never commit your actual .env file - it contains sensitive information

# ================================
# REQUIRED CONFIGURATION
# ================================
# These variables are essential for the bot to function

# Slack App Tokens (get these from https://api.slack.com/apps)
SLACK_BOT_TOKEN="xoxb-your-bot-user-oauth-token-here"
SLACK_APP_TOKEN="xapp-your-app-level-token-here"

# Slack Channel ID where birthday messages will be posted
# To find channel ID: Right-click channel → View channel details → Copy ID
BIRTHDAY_CHANNEL_ID="C0123456789"

# OpenAI API Key for AI message and image generation
# Get this from https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-your-openai-api-key-here"

# ================================
# OPTIONAL CONFIGURATION
# ================================
# These variables have default values and can be customized

# AI & Message Settings
# Override the default OpenAI model (see config.py DEFAULT_OPENAI_MODEL)
# OPENAI_MODEL=""

# Enable/disable AI image generation (default: true)
AI_IMAGE_GENERATION_ENABLED="true"

# Use custom workspace emojis in messages (default: true)
USE_CUSTOM_EMOJIS="true"

# Web Search & Caching
# Cache historical date facts to reduce API calls (default: true)
WEB_SEARCH_CACHE_ENABLED="true"

# Upcoming Events Lookahead
UPCOMING_DAYS_DEFAULT="7"     # Default lookahead for upcoming birthdays (default: 7)
UPCOMING_DAYS_EXTENDED="30"   # Extended lookahead for calendar views (default: 30)

# Backup System Configuration
# Enable external backup system (sends backups to admin DMs/channels) (default: true)
EXTERNAL_BACKUP_ENABLED="true"
MAX_BACKUPS="10"              # Number of backup files to retain (default: 10)

# ================================
# SPECIAL DAYS CONFIGURATION
# ================================

# UN Observances (scraped from un.org using crawl4ai)
# Requires: uv run crawl4ai-setup (see README for setup)
UN_OBSERVANCES_ENABLED="true"
UN_OBSERVANCES_CACHE_TTL_DAYS="7"     # Days before cache refresh (default: 7)

# UNESCO Observances (scraped from unesco.org)
UNESCO_OBSERVANCES_ENABLED="true"
UNESCO_OBSERVANCES_CACHE_TTL_DAYS="30"  # Days before cache refresh (default: 30)

# WHO Health Days (scraped from who.int)
WHO_OBSERVANCES_ENABLED="true"
WHO_OBSERVANCES_CACHE_TTL_DAYS="30"     # Days before cache refresh (default: 30)

# Calendarific API for national/local holidays (optional)
# Get free API key at: https://calendarific.com
# Free tier: 500 requests/month (self-counted, persists across restarts)
CALENDARIFIC_API_KEY=""
CALENDARIFIC_ENABLED="false"
CALENDARIFIC_COUNTRY="CH"    # Country code (CH = Switzerland)
CALENDARIFIC_STATE="VD"      # State/canton code (VD = Vaud)
CALENDARIFIC_CACHE_TTL_DAYS="7"   # Days before cache refresh (default: 7)
CALENDARIFIC_PREFETCH_DAYS="7"    # Days to prefetch ahead (default: 7)

# Send backup files to admin users via direct message (default: true)
BACKUP_TO_ADMINS="true"

# Optional: Dedicated channel for backup files (leave empty to disable)
BACKUP_CHANNEL_ID=""

# Send backup on every change vs. batched/daily (default: true)
BACKUP_ON_EVERY_CHANGE="true"

# ================================
# INTERACTIVE FEATURES CONFIGURATION
# ================================
# These features enable interactive engagement with users

# Thread Engagement - Bot reacts to birthday thread replies (default: true)
THREAD_ENGAGEMENT_ENABLED="true"
THREAD_TRACKING_TTL_DAYS="7"

# @-Mention Q&A - Bot answers questions when mentioned (default: true)
MENTION_QA_ENABLED="true"
MENTION_RATE_LIMIT_WINDOW="60"
MENTION_RATE_LIMIT_MAX="5"

# NLP Date Parsing - LLM-based natural language date input (default: false)
# When enabled, accepts inputs like "my birthday is July 14th"
NLP_DATE_PARSING_ENABLED="false"

# Special Day Announcements
# SPECIAL_DAY_MENTION_ENABLED - Include @-here in special day announcements (default: true)
SPECIAL_DAY_MENTION_ENABLED="true"
# SPECIAL_DAY_TOPIC_UPDATE_ENABLED - Update channel topic with today's special days (default: false)
SPECIAL_DAY_TOPIC_UPDATE_ENABLED="false"

# ================================
# CUSTOM BOT PERSONALITY SETTINGS
# ================================
# Only used when bot personality is set to 'custom'
# Use admin commands to switch to custom personality, then these values apply

# Custom bot name (used in message generation)
CUSTOM_BOT_NAME="Birthday Wizard"

# Description of the bot's character
CUSTOM_BOT_DESCRIPTION="a magical birthday celebration wizard"

# Writing style for message generation
CUSTOM_BOT_STYLE="magical, whimsical, and full of enchantment"

# Formatting instructions for message generation
CUSTOM_FORMAT_INSTRUCTION="Create a magical spell-like birthday message"

# Additional template extension for message generation
CUSTOM_BOT_TEMPLATE_EXTENSION="Add magical sparkles and enchanted birthday wishes"

# ================================
# SETUP INSTRUCTIONS
# ================================
# 1. Copy this file: cp .env.example .env
# 2. Edit .env with your actual values
# 3. Set up your Slack app with the required permissions (see README.md)
# 4. Run: python app.py